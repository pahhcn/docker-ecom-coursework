# Docker 电商数据管理系统 - 完整项目描述

## 项目概述

这是一个基于容器化技术的完整电商数据管理系统，展示了现代DevOps实践的全栈实现。项目采用微服务架构，集成了完整的CI/CD流水线、监控系统和自动化测试。

## 核心功能

### 🛍️ 电商核心功能
- **产品管理**: 完整的CRUD操作（创建、读取、更新、删除）
- **数据验证**: 完善的输入验证和错误处理
- **RESTful API**: 标准化的HTTP接口设计

### 🐳 容器化部署
- **多阶段构建**: 优化的Dockerfile减少镜像大小
- **服务编排**: Docker Compose本地开发环境
- **生产部署**: Kubernetes集群部署支持

### 🔄 CI/CD流水线
- **自动化构建**: Jenkins Pipeline自动化代码到部署
- **蓝绿部署**: 无缝版本切换和回滚能力
- **环境隔离**: 独立的开发、测试、生产环境

### 📊 监控告警
- **指标收集**: Prometheus实时监控系统指标
- **可视化面板**: Grafana自定义监控仪表板
- **智能告警**: Alertmanager告警管理和路由

### 🧪 全面测试
- **单元测试**: JUnit 5框架的单元测试覆盖
- **属性测试**: jqwik框架的随机化测试
- **集成测试**: TestContainers容器化集成测试
- **端到端测试**: 完整业务流程验证

## 技术架构

```
┌─────────────────────────────────────────────────────────────┐
│                    Kubernetes 集群                           │
│  ┌────────────────────────────────────────────────────────┐ │
│  │              命名空间: ecommerce                        │ │
│  │  ┌──────────────┐      ┌──────────────┐      ┌───────┐│ │
│  │  │   前端       │◄────►│   后端       │◄────►│ MySQL ││ │
│  │  │   (Nginx)    │      │ (Spring Boot)│      │  DB   ││ │
│  │  │   2 副本     │      │   2 副本     │      │ 1 副本││ │
│  │  └──────────────┘      └──────────────┘      └───────┘│ │
│  │                                                          │ │
│  │  🔄 蓝绿部署: Blue/Green 环境独立运行                    │ │
│  └────────────────────────────────────────────────────────┘ │
│                                                               │
│  ┌────────────────────────────────────────────────────────┐ │
│  │              命名空间: monitoring                        │ │
│  │  ┌──────────────┐      ┌──────────────┐      ┌───────┐│ │
│  │  │  Prometheus  │◄────►│   Grafana    │◄────►│Alert- ││ │
│  │  │   指标收集   │      │   可视化    │      │manager││ │
│  │  │   1 副本     │      │   1 副本     │      │ 1 副本││ │
│  │  └──────────────┘      └──────────────┘      └───────┘│ │
│  └────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

## 技术栈

| 层级 | 技术 | 版本 | 说明 |
|------|------|------|------|
| **前端** | HTML5, CSS3, JavaScript | - | 响应式电商界面 |
| **Web服务器** | Nginx | Alpine | 静态文件服务和反向代理 |
| **后端** | Spring Boot | 3.x | REST API服务框架 |
| **编程语言** | Java | 17 | JVM平台开发 |
| **构建工具** | Maven | 3.9+ | 依赖管理和构建 |
| **数据库** | MySQL | 8.0 | 关系型数据存储 |
| **容器化** | Docker | 20.10+ | 应用容器化 |
| **编排** | Kubernetes | 1.28+ | 容器编排平台 |
| **CI/CD** | Jenkins | Pipeline | 自动化构建部署 |
| **监控** | Prometheus + Grafana | - | 指标收集和可视化 |
| **告警** | Alertmanager | - | 告警管理和路由 |
| **测试** | JUnit 5 + jqwik | - | 单元和属性测试 |

## 部署方式

### 🚀 快速启动 (Docker Compose)

```bash
# 克隆项目
git clone https://github.com/pahhcn/docker-ecom-coursework.git
cd docker-ecom-coursework

# 启动完整环境
docker-compose up --build

# 访问应用
# 前端: http://localhost:8082
# 后端API: http://localhost:8080/api/products
# 监控: http://localhost:3000 (admin/admin)
```

### 🏭 生产部署 (Kubernetes + Jenkins)

```bash
# 启动Jenkins CI/CD环境
./run-jenkins-local.sh

# 访问Jenkins控制台
# URL: http://localhost:8090
# 初始密码会在启动脚本中显示

# Jenkins会自动：
# 1. 检测代码变更 (每2分钟轮询)
# 2. 运行完整测试套件
# 3. 构建Docker镜像
# 4. 部署到Kubernetes蓝绿环境
# 5. 可选部署监控系统
```

## API接口

### 产品管理接口

| 方法 | 端点 | 功能 | 状态码 |
|------|------|------|--------|
| GET | `/api/products` | 获取所有产品 | 200 |
| GET | `/api/products/{id}` | 获取单个产品 | 200/404 |
| POST | `/api/products` | 创建新产品 | 201 |
| PUT | `/api/products/{id}` | 更新产品 | 200/404 |
| DELETE | `/api/products/{id}` | 删除产品 | 204/404 |

### 健康检查接口

| 端点 | 服务 | 功能 |
|------|------|------|
| `/health` | 前端 | Nginx健康检查 |
| `/actuator/health` | 后端 | Spring Boot健康检查 |

## 项目亮点

### 🎯 DevOps最佳实践
- **基础设施即代码**: 所有配置版本化管理
- **自动化测试**: 多层次测试确保质量
- **持续集成**: 自动化构建和部署
- **监控告警**: 完整的可观测性栈

### 🔧 工程化特性
- **多环境支持**: 开发/测试/生产环境隔离
- **渐进式部署**: 蓝绿部署支持无停机更新
- **可扩展架构**: 微服务设计支持水平扩展
- **安全性**: 容器安全扫描和访问控制

### 📈 性能优化
- **镜像优化**: 多阶段构建减少镜像大小
- **缓存策略**: 构建缓存和依赖缓存
- **资源管理**: Kubernetes资源限制和请求配置
- **负载均衡**: 服务间自动负载均衡

## 质量保证

### 测试覆盖
- **单元测试**: 100%核心业务逻辑覆盖
- **属性测试**: 随机化输入测试边界条件
- **集成测试**: 服务间交互验证
- **端到端测试**: 完整用户流程测试

### 代码质量
- **静态分析**: SonarQube代码质量检查
- **覆盖率报告**: JaCoCo测试覆盖率报告
- **安全扫描**: 容器镜像安全漏洞扫描
- **性能测试**: 自动化性能基准测试

## 使用场景

### 开发环境
- 本地快速启动开发环境
- 热重载支持快速迭代
- 集成测试环境验证

### 测试环境
- 自动化测试执行
- 性能测试和压力测试
- 用户验收测试(UAT)

### 生产环境
- 高可用Kubernetes部署
- 监控告警和日志收集
- 自动化扩缩容和更新

## 扩展方向

### 功能扩展
- 用户认证和授权系统
- 购物车和订单管理
- 支付网关集成
- 库存管理和物流跟踪

### 技术扩展
- 服务网格(Istio)集成
- API网关(Kong)集成
- 分布式缓存(Redis)
- 消息队列(RabbitMQ)

### 运维扩展
- 日志聚合(ELK Stack)
- 分布式追踪(Jaeger)
- 配置中心(Apollo)
- 服务发现(Consul)

## 总结

本项目是一个完整的现代化电商系统实现，涵盖了从开发到生产的完整生命周期。通过容器化、自动化测试、CI/CD流水线和监控告警的结合，展示了企业级应用的完整DevOps实践。

项目不仅提供了可运行的电商系统，还为学习和实践现代软件开发方法论提供了宝贵的参考和模板。

---

**项目状态**: ✅ 完成
**最后更新**: 2025-12-01
**版本**: 1.0.0</content>
<parameter name="filePath">/home/swe/docker-ecom-coursework/PROJECT_DESCRIPTION.md